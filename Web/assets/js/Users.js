// Generated by CoffeeScript 1.3.3
(function() {
  var adminMenu, getCookie, isAdmin, loggedIn, loginButton, loginMenu, logoutButton, setCookie, setLogInControl;

  adminMenu = $("#adminMenu");

  logoutButton = $("#logoutButton");

  loginMenu = $("#loginMenu");

  loginButton = $("#loginButton");

  loggedIn = false;

  setCookie = function(name, value) {
    var c_name, c_value;
    c_value = escape(value);
    c_name = escape(name);
    document.cookie = "" + c_name + "=" + c_value + ";";
    console.log("Setting cookie to '" + c_name + "=" + value + ";'");
    return console.log("Cookies is '" + document.cookie + "'");
  };

  getCookie = function(name) {
    var c, cookie, cookies, _i, _len;
    cookies = document.cookie.split(";");
    console.log("cookies found " + cookies);
    for (_i = 0, _len = cookies.length; _i < _len; _i++) {
      c = cookies[_i];
      cookie = c.split("=");
      if (name === cookie[0]) {
        return unescape(cookie[1]);
      }
    }
  };

  isAdmin = function() {
    getCookie("status" === "Admin");
    return loggedIn;
  };

  setLogInControl = function() {
    if (isAdmin()) {
      console.log("Showig admin menu");
      adminMenu.show();
      return loginMenu.hide();
    } else {
      console.log("Hiding admin menu");
      adminMenu.hide();
      return loginMenu.show();
    }
  };

  logoutButton.click(function() {
    setCookie("status", "User");
    loggedIn = false;
    return setLogInControl();
  });

  loginButton.click(function() {
    setCookie("status", "Admin");
    loggedIn = true;
    return setLogInControl();
  });

  setLogInControl();

}).call(this);
